# Requirements Archive: v2.2 Technical Debt & Stabilization

**Archived:** 2026-01-29
**Status:** ✅ SHIPPED

This is the archived requirements specification for v2.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v2.2 Milestone Overview

v2.2 was a technical debt milestone focused on eliminating Supabase dependency and stabilizing TTN integration. Unlike feature milestones, v2.2 did not have formal requirements in REQUIREMENTS.md — the milestone goal was defined in ROADMAP.md.

### Milestone Goal (from ROADMAP.md)

> Eliminate Supabase dependency and stabilize TTN integration for long-term maintainability

### Gap Closure Phases

v2.2 included three gap closure phases (31, 32, 33) created by `/gsd:plan-milestone-gaps` to address issues found during milestone audit:

1. **Phase 31: TTN Provisioning UI Migration**
   - Closed: Integration gap (TTN UI → tRPC)
   - Closed: Flow gap (TTN Organization Provisioning)

2. **Phase 32: Remaining Edge Function Migration**
   - Closed: 15 edge function calls in 12 files

3. **Phase 33: Error Handling UI Integration**
   - Closed: Integration gap (SupabaseMigrationError → UI consumers)

### Derived Requirements (Implicit)

While not formally documented, v2.2 implicitly validated these requirements:

| Implicit Requirement                     | Status      | Evidence                                  |
| ---------------------------------------- | ----------- | ----------------------------------------- |
| All edge function calls migrated to tRPC | ✓ VALIDATED | 1 intentional exception (SensorSimulator) |
| TTN provisioning works via tRPC          | ✓ VALIDATED | Phase 31 VERIFICATION.md                  |
| Reports export returns real data         | ✓ VALIDATED | Phase 32-05 SUMMARY.md                    |
| Telnyx integration uses real API         | ✓ VALIDATED | Phase 32-06 SUMMARY.md                    |
| Error boundaries catch migration errors  | ✓ VALIDATED | Phase 33 VERIFICATION.md                  |
| App loads without crashes                | ✓ VALIDATED | Human verification in 33-03               |

---

## v2.1 Requirements Archive

The v2.1 requirements (Streamlined Deployment) were defined in REQUIREMENTS.md but only partially implemented before v2.2 technical debt work was prioritized. These requirements remain pending for v2.3 or later:

### Completed (v2.1)

- [x] PREFLIGHT-01 through PREFLIGHT-06 (Pre-Deployment Validation)
- [x] PREREQ-01 through PREREQ-06 (Prerequisites Installation)
- [x] CONFIG-01 through CONFIG-07 (Interactive Configuration)
- [x] ERROR-01 through ERROR-07 (Error Handling & Recovery)

### Pending (Deferred to v2.3+)

- [ ] DEPLOY-01 through DEPLOY-05 (Deployment Orchestration)
- [ ] VERIFY-01 through VERIFY-06 (Verification)
- [ ] POST-01 through POST-05 (Post-Deployment)
- [ ] DOCS-01 through DOCS-04 (Documentation)

**Note:** v2.1 was marked shipped (2026-01-25) with Phases 22-26, but Phases 25-26 were not fully implemented before v2.2 work began. These deployment orchestration features remain as future work.

---

## Milestone Summary

**v2.2 Shipped:** 2026-01-29
**Phases:** 27-33 (6 active, Phase 29 skipped)
**Plans:** 27 completed

**Goal Achieved:**

- ✓ Supabase edge function dependency eliminated
- ✓ TTN integration stabilized on tRPC
- ✓ Error handling provides user-friendly fallbacks
- ✓ Frontend builds and runs without crashes
- ✓ All critical E2E flows verified working

**Tech Debt Accepted:**

- 53 test failures need mock updates
- supabase-placeholder.ts remains (intentional graceful degradation)
- SensorSimulatorPanel edge function call kept (admin tool)

---

_Archived: 2026-01-29 as part of v2.2 milestone completion_
