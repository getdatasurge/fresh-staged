# ==============================================
# FreshTrack Backend - Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# ----------------------------------------------
# Database (Required)
# ----------------------------------------------
# PostgreSQL connection string
# Use PgBouncer port 6432 for transaction pooling in production
DATABASE_URL=postgresql://frostguard:frostguard_dev_password@localhost:5432/frostguard

# Direct connection (for migrations and session-state operations)
DATABASE_URL_DIRECT=postgresql://frostguard:frostguard_dev_password@localhost:5432/frostguard

# ----------------------------------------------
# Authentication (Required)
# ----------------------------------------------
# Stack Auth project ID - get from Stack Auth Dashboard -> Project Settings
STACK_AUTH_PROJECT_ID=your-stack-auth-project-id

# JWT secret for signing tokens (generate with: openssl rand -base64 32)
JWT_SECRET=your-jwt-secret-here

# Unsubscribe token secret (optional, defaults to JWT_SECRET)
# UNSUBSCRIBE_SECRET=your-unsubscribe-secret

# ----------------------------------------------
# Server Configuration
# ----------------------------------------------
PORT=3000
HOST=0.0.0.0
NODE_ENV=development

# CORS origins (comma-separated, defaults to localhost:5173)
CORS_ORIGINS=http://localhost:5173

# Frontend URL for redirects
FRONTEND_URL=http://localhost:5173

# ----------------------------------------------
# Redis (Optional - for background jobs)
# ----------------------------------------------
# Background job queues (SMS, email digests) require Redis.
# Leave commented out for basic development without queues.

# Option 1: Full Redis URL
# REDIS_URL=redis://localhost:6379

# Option 2: Host/Port (used if REDIS_URL not set)
# REDIS_HOST=localhost
# REDIS_PORT=6379

# ----------------------------------------------
# TTN Integration (Optional - for LoRaWAN)
# ----------------------------------------------
# TTN API URL (defaults to NAM1 cluster)
TTN_API_URL=https://nam1.cloud.thethings.network

# Encryption salt for TTN credentials
TTN_ENCRYPTION_SALT=your-ttn-encryption-salt

# ----------------------------------------------
# External Services (Optional)
# ----------------------------------------------
# Stripe (for billing)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Resend (for emails)
# RESEND_API_KEY=re_...
# EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# Telnyx (for SMS)
# TELNYX_API_KEY=KEY...
# TELNYX_PHONE_NUMBER=+1...
# TELNYX_MESSAGING_PROFILE_ID=...

# MinIO/S3 (for file storage)
# MINIO_ENDPOINT=localhost
# MINIO_ROOT_USER=minioadmin
# MINIO_ROOT_PASSWORD=minioadmin
# MINIO_BUCKET_ASSETS=assets

# Sentry (for error tracking)
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ----------------------------------------------
# Development Options
# ----------------------------------------------
# Enable debug logging
# DEBUG=true
# LOG_LEVEL=debug
